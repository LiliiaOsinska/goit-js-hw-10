{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// import errorImage from \n\nconst dateTime = document.querySelector('#datetime-picker');\nconst btn = document.querySelector('button[data-start]');\nconst value = document.querySelectorAll('.value');\n\nlet userSelectedDate = '';\nlet currentDate = '';\nlet deltaTime;\nbtn.disabled = true;\nbtn.addEventListener('click', handleBtn);\n// Підключення бібліотеки flatpickr\nconst dataTimeNew = flatpickr('#datetime-picker', {\n  enableTime: true,\n  time_24hr: true,\n  dateFormat: 'Y-m-d H:i',\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n// Підключення бібліотеки iziToast\n  onClose(selectedDates) {\n    currentDate = new Date();\n    console.log(selectedDates[0]);\n    userSelectedDate = selectedDates[0];\n\n    if (currentDate > userSelectedDate.getTime()) {\n      btn.disabled = true;\n      iziToast.show({\n        title: '',\n        message: 'Please choose a date in the future',\n        messageColor: '#fff',\n        messageSize: '18px',\n        backgroundColor: '#f03838',\n        position: 'topRight',\n        iconUrl: '${errorImage}',\n        iconColor: '#73020C',\n        close: false,\n        timeout: 2000,\n        progressBar: false,\n      });\n    } else {\n      btn.disabled = false;\n    }\n  },\n});\nlet timerTime = null;\nfunction handleBtn() {\n  btn.disabled = true;\n\n  timerTime = setInterval(() => {\n    dateTime.disabled = true;\n    currentDate = Date.now();\n    deltaTime = userSelectedDate.getTime() - currentDate;\n    const time = convertMs(deltaTime);\n    if (deltaTime > 0) {\n      const valueDate = [...value];\n      valueDate[0].textContent = String(time.days).padStart(2, '0');\n      valueDate[1].textContent = String(time.hours).padStart(2, '0');\n      valueDate[2].textContent = String(time.minutes).padStart(2, '0');\n      valueDate[3].textContent = String(time.seconds).padStart(2, '0');\n    } else {\n      dateTime.disabled = false;\n    }\n  }, 1000);\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  return { days, hours, minutes, seconds };\n}\n\nconsole.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\nconsole.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\nconsole.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n"],"names":["dateTime","btn","value","userSelectedDate","currentDate","deltaTime","handleBtn","flatpickr","selectedDates","iziToast","time","convertMs","valueDate","ms","days","hours","minutes","seconds"],"mappings":"+IAMA,MAAMA,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAM,SAAS,cAAc,oBAAoB,EACjDC,EAAQ,SAAS,iBAAiB,QAAQ,EAEhD,IAAIC,EAAmB,GACnBC,EAAc,GACdC,EACJJ,EAAI,SAAW,GACfA,EAAI,iBAAiB,QAASK,CAAS,EAEnBC,EAAU,mBAAoB,CAChD,WAAY,GACZ,UAAW,GACX,WAAY,YACZ,YAAa,IAAI,KACjB,gBAAiB,EAEjB,QAAQC,EAAe,CACrBJ,EAAc,IAAI,KAClB,QAAQ,IAAII,EAAc,CAAC,CAAC,EAC5BL,EAAmBK,EAAc,CAAC,EAE9BJ,EAAcD,EAAiB,WACjCF,EAAI,SAAW,GACfQ,EAAS,KAAK,CACZ,MAAO,GACP,QAAS,qCACT,aAAc,OACd,YAAa,OACb,gBAAiB,UACjB,SAAU,WACV,QAAS,gBACT,UAAW,UACX,MAAO,GACP,QAAS,IACT,YAAa,EACrB,CAAO,GAEDR,EAAI,SAAW,EAElB,CACH,CAAC,EAED,SAASK,GAAY,CACnBL,EAAI,SAAW,GAEH,YAAY,IAAM,CAC5BD,EAAS,SAAW,GACpBI,EAAc,KAAK,MACnBC,EAAYF,EAAiB,QAAS,EAAGC,EACzC,MAAMM,EAAOC,EAAUN,CAAS,EAChC,GAAIA,EAAY,EAAG,CACjB,MAAMO,EAAY,CAAC,GAAGV,CAAK,EAC3BU,EAAU,CAAC,EAAE,YAAc,OAAOF,EAAK,IAAI,EAAE,SAAS,EAAG,GAAG,EAC5DE,EAAU,CAAC,EAAE,YAAc,OAAOF,EAAK,KAAK,EAAE,SAAS,EAAG,GAAG,EAC7DE,EAAU,CAAC,EAAE,YAAc,OAAOF,EAAK,OAAO,EAAE,SAAS,EAAG,GAAG,EAC/DE,EAAU,CAAC,EAAE,YAAc,OAAOF,EAAK,OAAO,EAAE,SAAS,EAAG,GAAG,CACrE,MACMV,EAAS,SAAW,EAEvB,EAAE,GAAI,CACT,CAEA,SAASW,EAAUE,EAAI,CAKrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,QAAQ,IAAIN,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC"}